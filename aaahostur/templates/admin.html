{% extends 'base.html' %}

{% block mainContent %}
<div class="foreign_container w80 container shadow pad-2rem">
    <h1 class="">ADMINISTRACIÓN</h1>
    <hr class="bg-color-darker-blue mar-bot-3rem">
    <!-- check if context is defined-->
    {% if context is defined and not none %}
    <iframe name="dummy" id="dummy" height="0" width="0" class="dis-none"></iframe>
        {% if 'member' in context %}
            {% if context['member'] is not none %}
                <table>
                    <tr>
                        <th>DNI</th>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Contacto</th>
                        <th>Verificado</th>
                    </tr>
                    {% for member in context['member'] %}
                        <tr>
                            <td><a href="{{ url_for(request.endpoint) + '/' + member['id_user'] }}" target="_blank">{{ member['member_dni'] }}</a></td>
                            <td>{{ member['member_surname'] }}, {{ member['member_name'] }}</td>
                            <td>{{ member['email'] }}</td>
                            <td>{{ member['member_mobile'] }} / {{ member['member_landline'] }}</td>
                            <td>
                                <form action="">
                                    {% if member['member_verify'] or member['member_verify'] == 'True' %}
                                        Verificado
                                    {% elif not member['member_verify'] or member['member_verify'] == 'False' %}
                                        no verificado
                                    {% else %}
                                        ERROR
                                    {% endif %}
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            {% else %}
                <h2 class="mar-bot-1rem">No se ha podido cargar la información de miembro</h2>
            {% endif %}
        <!-- check if context has the keyvalue 'company' -->
        {% elif 'company' in context %}
            {% if context['company'] is not none %}
                <label class="dis-block font-16pt">Nombre de empresa :</label>
                <input class="w60 pad-input font-14pt mar-bot-2rem" type="text" id="company-name" name="company-name" value="{{ context['company']['name'] }}" disabled>
                <label class="dis-block font-16pt">Código de identificación (NIF) :</label>
                <input class="w60 pad-input font-14pt mar-bot-2rem" type="text" id="company-cif" name="company-cif" value="{{ context['company']['cif'] }}" disabled>

                <label class="dis-block font-16pt">Nombre de contacto :</label>
                <input class="w60 pad-input font-14pt mar-bot-2rem" type="text" id="company-contact-name" name="company-contact-name" value="{{ context['company']['contact_name'] }}" disabled>
                <label class="dis-block font-16pt">Teléfono de contacto :</label>
                <input class="w60 pad-input font-14pt mar-bot-2rem" type="text" id="company-contact-phone" name="company-contact-phone" value="{{ context['company']['contact_phone'] }}" disabled>
                <label class="dis-block font-16pt">Correo de contacto :</label>
                <input class="w60 pad-input font-14pt mar-bot-2rem" type="text" id="company-contact-email" name="company-contact-email" value="{{ context['company']['contact_email'] }}" disabled>
            {% else %}
            <h2 class="mar-bot-1rem">No se ha podido cargar la información de empresa</h2>
            {% endif %}
        {% else %}
            <h2 class="mar-bot-1rem">No tiene información adicional</h2>
        {% endif %}
    {% else %}
        <h2 class="mar-bot-1rem">No se ha podido cargar la información</h2>
    {% endif %}
</div>
{% endblock %}